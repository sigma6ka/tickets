{"ast":null,"code":"import React,{useEffect}from\"react\";import{useHistory,useLocation}from\"react-router-dom\";import\"./Pagination.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Pagination=_ref=>{let{nextPageUrl,prevPageUrl,totalResults,onDataLoad}=_ref;const history=useHistory();const location=useLocation();useEffect(()=>{const searchParams=new URLSearchParams(location.search);if(!searchParams.has(\"page\")){searchParams.append(\"page\",1);history.push({search:searchParams.toString()});}},[history,location.search]);const handleNextPage=()=>{if(nextPageUrl){onDataLoad(nextPageUrl);const nextPageNumber=getPageNumberFromUrl(nextPageUrl);updateUrl(nextPageNumber);}};const handlePrevPage=()=>{if(prevPageUrl){onDataLoad(prevPageUrl);const prevPageNumber=getPageNumberFromUrl(prevPageUrl);updateUrl(prevPageNumber);}};const getPageNumberFromUrl=url=>{const match=url.match(/\\?page=(\\d+)/);return match?parseInt(match[1]):1;};const updateUrl=pageNumber=>{const searchParams=new URLSearchParams(location.search);searchParams.set(\"page\",pageNumber);history.push({search:searchParams.toString()});};const perPage=12;const currentPage=getPageNumberFromUrl(location.search);const startIndex=(currentPage-1)*perPage+1;const endIndex=Math.min(currentPage*perPage,totalResults);return/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pagination-info\",children:[\"Showing \",/*#__PURE__*/_jsx(\"span\",{children:startIndex}),\" - \",/*#__PURE__*/_jsx(\"span\",{children:endIndex}),\" of \",/*#__PURE__*/_jsx(\"span\",{children:totalResults}),\" results\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination__buttons\",children:[prevPageUrl?/*#__PURE__*/_jsxs(\"button\",{className:\"_active\",onClick:handlePrevPage,children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-ico icon-arrow-left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-text\",children:\"Previous\"})]}):/*#__PURE__*/_jsxs(\"button\",{disabled:true,className:\"disabled\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-ico icon-arrow-left\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-text\",children:\"Previous\"})]}),nextPageUrl?/*#__PURE__*/_jsxs(\"button\",{className:\"_active\",onClick:handleNextPage,children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-text\",children:\"Next\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-ico icon-arrow-right\"})]}):/*#__PURE__*/_jsxs(\"button\",{disabled:true,className:\"disabled\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"btn-text\",children:\"Next\"}),/*#__PURE__*/_jsx(\"div\",{className:\"btn-ico icon-arrow-right\"})]})]})]});};export default Pagination;","map":{"version":3,"names":["React","useEffect","useHistory","useLocation","jsx","_jsx","jsxs","_jsxs","Pagination","_ref","nextPageUrl","prevPageUrl","totalResults","onDataLoad","history","location","searchParams","URLSearchParams","search","has","append","push","toString","handleNextPage","nextPageNumber","getPageNumberFromUrl","updateUrl","handlePrevPage","prevPageNumber","url","match","parseInt","pageNumber","set","perPage","currentPage","startIndex","endIndex","Math","min","className","children","onClick","disabled"],"sources":["D:/Repository/tickets/src/components/Pagination.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport \"./Pagination.css\";\r\n\r\nconst Pagination = ({\r\n  nextPageUrl,\r\n  prevPageUrl,\r\n  totalResults,\r\n  onDataLoad,\r\n}) => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n    if (!searchParams.has(\"page\")) {\r\n      searchParams.append(\"page\", 1);\r\n      history.push({ search: searchParams.toString() });\r\n    }\r\n  }, [history, location.search]);\r\n\r\n  const handleNextPage = () => {\r\n    if (nextPageUrl) {\r\n      onDataLoad(nextPageUrl);\r\n      const nextPageNumber = getPageNumberFromUrl(nextPageUrl);\r\n      updateUrl(nextPageNumber);\r\n    }\r\n  };\r\n\r\n  const handlePrevPage = () => {\r\n    if (prevPageUrl) {\r\n      onDataLoad(prevPageUrl);\r\n      const prevPageNumber = getPageNumberFromUrl(prevPageUrl);\r\n      updateUrl(prevPageNumber);\r\n    }\r\n  };\r\n\r\n  const getPageNumberFromUrl = (url) => {\r\n    const match = url.match(/\\?page=(\\d+)/);\r\n    return match ? parseInt(match[1]) : 1;\r\n  };\r\n\r\n  const updateUrl = (pageNumber) => {\r\n    const searchParams = new URLSearchParams(location.search);\r\n    searchParams.set(\"page\", pageNumber);\r\n    history.push({ search: searchParams.toString() });\r\n  };\r\n\r\n  const perPage = 12;\r\n  const currentPage = getPageNumberFromUrl(location.search);\r\n  const startIndex = (currentPage - 1) * perPage + 1;\r\n  const endIndex = Math.min(currentPage * perPage, totalResults);\r\n\r\n  return (\r\n    <div className=\"pagination\">\r\n      <div className=\"pagination-info\">\r\n\t\t\t\tShowing <span>{startIndex}</span> - <span>{endIndex}</span> of <span>{totalResults}</span> results\r\n      </div>\r\n      <div className=\"pagination__buttons\">\r\n        {prevPageUrl ? (\r\n          <button className=\"_active\" onClick={handlePrevPage}>\r\n            <div className=\"btn-ico icon-arrow-left\"></div>\r\n            <div className=\"btn-text\">Previous</div>\r\n          </button>\r\n        ) : (\r\n          <button disabled className=\"disabled\">\r\n            <div className=\"btn-ico icon-arrow-left\"></div>\r\n            <div className=\"btn-text\">Previous</div>\r\n          </button>\r\n        )}\r\n        {nextPageUrl ? (\r\n          <button className=\"_active\" onClick={handleNextPage}>\r\n            <div className=\"btn-text\">Next</div>\r\n            <div className=\"btn-ico icon-arrow-right\"></div>\r\n          </button>\r\n        ) : (\r\n          <button disabled className=\"disabled\">\r\n            <div className=\"btn-text\">Next</div>\r\n            <div className=\"btn-ico icon-arrow-right\"></div>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}